{"version":3,"sources":["webpack://hyperbox-js/webpack/universalModuleDefinition","webpack://hyperbox-js/webpack/bootstrap","webpack://hyperbox-js/webpack/runtime/define property getters","webpack://hyperbox-js/webpack/runtime/hasOwnProperty shorthand","webpack://hyperbox-js/webpack/runtime/make namespace object","webpack://hyperbox-js/./src/hyperbox-inner-core.js","webpack://hyperbox-js/./src/hyperbox-core.js","webpack://hyperbox-js/./src/box-utils.js","webpack://hyperbox-js/./src/box.js","webpack://hyperbox-js/./src/box-loader.js","webpack://hyperbox-js/./src/box-cluster/box-cluster.js","webpack://hyperbox-js/./src/logging/console-colours.js","webpack://hyperbox-js/./src/logging/log-utils.js","webpack://hyperbox-js/./src/start-box-server.js","webpack://hyperbox-js/./src/index.js"],"names":["document","window","HyperBoxInnerCore","Window","Document","HyperBoxCore","boxClassName","boxCapitalisedName","BoxUtils","CapitalizeFirstLetter","instance","BoxRegistry","get","box","boxConfig","constructor","_BoxConfig","boxContainer","setAttribute","_boxId","name","registry","Error","boxCount","LoadedBoxes","size","boxId","Map","innerHTML","parentBoxId","boxParent","newBoxId","GetNewBoxId","_name","AddBoxToLoadedBoxes","BuildBoxInterfaces","BuildBoxStandardVariables","styleSheetPath","BoxLoader","LoadStylesheet","CreateBoxContainer","_container","DisplayBox","appendChild","detectBoxChanges","boxOnDisplayed","_init","className","BoxInstanceFactory","_className","_parentBoxId","AddBoxToDOM","prefix","variableName","returnName","BuildPrefixedFunctionName","value","length","firstChar","toUpperCase","substr","path","Promise","resolve","request","XMLHttpRequest","overrideMimeType","open","onreadystatechange","console","log","readyState","status","JSON","parse","response","send","display","_parentBox","LoadDOMAttributes","newMarkup","boxOnRedisplayed","boxInterface","_BoxInterface","BuildBoxInputs","Inputs","Outputs","BuildBoxOutputs","inputsObject","inputsWithStockProperties","Object","keys","forEach","interfaceProp","setterName","BuildSetterName","getterName","BuildGetterName","outputsObject","newBoxOutputEvent","CustomEvent","detail","eventBoxName","dispatchEvent","callback","addEventListener","removeEventListener","contextPath","_context","attributes","i","boxAttribute","item","attributeName","attributeValue","trimmedName","TrimFirstAndLastChar","IsVariableInputProperty","IsOutputProperty","functionName","GetFunctionNameFromFunctionCallString","parentBox","getParentBox","ev","propertyName","functionCallString","returnString","slice","boxStore","set","classImp","HTMLElement","id","remove","boxOnDestroyed","element","Box","link","type","rel","href","BoxCluster","boxes","boxClass","initBox","consoleColours","Reset","Bright","Dim","Underscore","Blink","Reverse","Hidden","FgBlack","FgRed","FgGreen","FgYellow","FgBlue","FgMagenta","FgCyan","FgWhite","BgBlack","BgRed","BgGreen","BgYellow","BgBlue","BgMagenta","BgCyan","BgWhite","LoggingUtils","logGreen","str","logYellow","logBlue","logLoader","p","x","interval","setInterval","process","stdout","write","clearLine","clearInterval","startBoxServer","dir","require","express","favicon","port","env","PORT","app","pubDir","distDir","clearLoader","use","req","res","sendFile","listen"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;;UCVA;UACA;;;;;WCDA;WACA;WACA;WACA;WACA,wCAAwC,yCAAyC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,sDAAsD,kBAAkB;WACxE;WACA,+CAA+C,cAAc;WAC7D,E;;;;;;;;;;;;;;;;;;;;;;ACNA,IAAMA,4BAAQ,GAAG,SAAXA,QAAW;AAAA,SAAM,IAAN;AAAA,CAAjB;;AACA,IAAMC,0BAAM,GAAG,SAATA,MAAS;AAAA,SAAM,IAAN;AAAA,CAAf;;AAEO,IAAMC,iBAAb;AAAA;AAAA;;gBAAaA,iB,cACQF,4BAAQ,IAAK;AAAA,SAAM,IAAN;AAAA,C;;gBADrBE,iB,YAGMD,0BAAM,IAAK;AAAA,SAAM,IAAN;AAAA,C;;gBAHjBC,iB,aAKM,UAACD,MAAD,EAASD,QAAT,EAAsB;AACrCE,mBAAiB,CAACC,MAAlB,GAA2BF,MAA3B;AACAC,mBAAiB,CAACE,QAAlB,GAA6BJ,QAA7B;AACD,C;;;;;;;;;;ACXH;AAEA;AACA;AACA;AACA;;AACO,IAAMK,YAAb;AAAA;AAAA;;AAAA;;AAAA,6DAgCuB,UAACC,YAAD,EAAkB;AACrC,UAAMC,kBAAkB,GAAGC,QAAQ,CAACC,qBAAT,CAA+BH,YAA/B,CAA3B;AACA,UAAMI,QAAQ,GAAG,KAAK,KAAI,CAACC,WAAL,CAAiBC,GAAjB,CAAqBL,kBAArB,CAAL,GAAjB;AACA,aAAOG,QAAP;AACD,KApCH;;AAAA,6DA2CuB,UAACG,GAAD,EAAS;AAC5B,UAAMC,SAAS,GAAGD,GAAG,CAACE,WAAJ,CAAgBC,UAAlC;AACA,UAAMC,YAAY,GAAGf,wCAAA,CAAyC,KAAzC,CAArB;AACAe,kBAAY,CAACC,YAAb,CAA0B,IAA1B,EAAgCL,GAAG,CAACM,MAApC;AACAF,kBAAY,CAACC,YAAb,CAA0B,OAA1B,EAAmCJ,SAAS,CAACM,IAA7C;AACA,aAAOH,YAAP;AACD,KAjDH;AAAA;;AAAA;AAAA;AAAA;AAME;AACF;AACA;AACA;AACA;AACE,4BAAsBI,QAAtB,EAAgC;AAC9B,UAAIA,QAAJ,EAAc;AACZ,aAAKV,WAAL,GAAmBU,QAAnB;AACD,OAFD,MAEO;AACL,cAAM,IAAIC,KAAJ,CAAU,0CAAV,CAAN;AACD;AACF;AAED;AACF;AACA;;AArBA;AAAA;AAAA;AAmDE;AACF;AACA;AACA;AACA;AACE,yBAAmBR,SAAnB,EAA8B;AAC5B,UAAIS,QAAQ,GAAG,CAAf;;AACA,UAAIlB,YAAY,CAACmB,WAAb,CAAyBZ,GAAzB,CAA6BE,SAAS,CAACM,IAAvC,CAAJ,EAAkD;AAChDG,gBAAQ,GAAGlB,YAAY,CAACmB,WAAb,CAAyBZ,GAAzB,CAA6BE,SAAS,CAACM,IAAvC,EAA6CK,IAAxD;AACD;;AACD,UAAMC,KAAK,aAAMZ,SAAS,CAACM,IAAhB,cAAwBG,QAAxB,CAAX;AACA,aAAOG,KAAP;AACD;AAED;AACF;AACA;AACA;AACA;AACA;;AAtEA;;AAAA;AAAA;;6BAAarB,Y,iBAEU,IAAIsB,GAAJ,E;;6BAFVtB,Y,iBAIU,IAAIsB,GAAJ,E;;6BAJVtB,Y,UAsBG,YAAM;AAClB;AACAH,2CAAA,CAA0C,MAA1C,EAAkD0B,SAAlD,GAA8D,uBAA9D;AACD,C;;6BAzBUvB,Y,iBAuEU,UAACQ,GAAD,EAAMgB,WAAN,EAAsB;AACzC,MAAMC,SAAS,GAAG5B,yCAAA,CAA0C2B,WAA1C,CAAlB;AACA,MAAMf,SAAS,GAAGD,GAAG,CAACE,WAAJ,CAAgBC,UAAlC;AACA,MAAMe,QAAQ,GA1EL1B,YA0EQ,CAAK2B,WAAL,CAAiBlB,SAAjB,CAAjB;AACAD,KAAG,CAACM,MAAJ,GAAaY,QAAb;AACAlB,KAAG,CAACoB,KAAJ,GAAYnB,SAAS,CAACM,IAAtB,CALyC,CAMzC;;AACAZ,UAAQ,CAAC0B,mBAAT,CAA6BrB,GAA7B;AACAL,UAAQ,CAAC2B,kBAAT,CAA4BtB,GAA5B;AACAL,UAAQ,CAAC4B,yBAAT,CAAmCvB,GAAnC,EATyC,CAUzC;;AACA,MAAIC,SAAS,CAACuB,cAAd,EAA8B;AAC5BC,aAAS,CAACC,cAAV,CAAyBzB,SAAS,CAACuB,cAAnC;AACD,GAbwC,CAczC;;;AACA,MAAMpB,YAAY,GAtFTZ,YAsFY,CAAKmC,kBAAL,CAAwB3B,GAAxB,CAArB,CAfyC,CAgBzC;;AACAA,KAAG,CAAC4B,UAAJ,GAAiBxB,YAAjB,CAjByC,CAkBzC;;AACAT,UAAQ,CAACkC,UAAT,CAAoB7B,GAApB;;AACA,MAAIgB,WAAJ,EAAiB;AACf;AACA,QAAIC,SAAJ,EAAe;AACbA,eAAS,CAACa,WAAV,CAAsB1B,YAAtB;AACD,KAFD,MAEO;AACL,YAAM,IAAIK,KAAJ,mDAAoDO,WAApD,QAAN;AACD;AACF,GA3BwC,CA4BzC;;;AACAhB,KAAG,CAAC+B,gBAAJ,GAAuB;AAAA,WAAMpC,QAAQ,CAACkC,UAAT,CAAoB7B,GAApB,CAAN;AAAA,GAAvB,CA7ByC,CA8BzC;;;AACA,MAAI,OAAOA,GAAG,CAACgC,cAAX,KAA8B,UAAlC,EAA8C;AAC5ChC,OAAG,CAACgC,cAAJ;AACD;;AACDhC,KAAG,CAACiC,KAAJ,GAAY,IAAZ;AACA,SAAOjC,GAAP;AACD,C;;6BA3GUR,Y,aAmHM,UAAC0C,SAAD,EAAYlB,WAAZ,EAA4B;AAC3C,MAAMhB,GAAG,GApHAR,YAoHG,CAAK2C,kBAAL,CAAwBD,SAAxB,CAAZ;AACAlC,KAAG,CAACoC,UAAJ,GAAiBF,SAAjB;AACAlC,KAAG,CAACqC,YAAJ,GAAmBrB,WAAnB;AACA,SAvHSxB,YAuHF,CAAK8C,WAAL,CAAiBtC,GAAjB,EAAsBgB,WAAtB,CAAP;AACD,C;;;;;;;;;;;;;;;;AC9HH;AAEA;AACA;AACA;AACA;;AACO,IAAMrB,kBAAb;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAEE;AACF;AACA;AACA;AACA;;AAWE;AACF;AACA;AACA;AACA;AACA;AACE,uCAAiC4C,MAAjC,EAAyCC,YAAzC,EAAuD;AACrD,UAAIC,UAAU,GAAG9C,QAAQ,CAACC,qBAAT,CAA+B4C,YAA/B,CAAjB;AACAC,gBAAU,aAAMF,MAAN,SAAeE,UAAf,CAAV;AACA,aAAOA,UAAP;AACD;AAED;AACF;AACA;AACA;AACA;;AAjCA;AAAA;AAAA,WAkCE,yBAAuBD,YAAvB,EAAqC;AACnC,aAAO7C,QAAQ,CAAC+C,yBAAT,CAAmC,KAAnC,EAA0CF,YAA1C,CAAP;AACD;AAED;AACF;AACA;AACA;AACA;;AA1CA;AAAA;AAAA,WA2CE,yBAAuBA,YAAvB,EAAqC;AACnC,aAAO7C,QAAQ,CAAC+C,yBAAT,CAAmC,KAAnC,EAA0CF,YAA1C,CAAP;AACD;AAED;AACF;AACA;AACA;AACA;AACA;;AApDA;AAAA;AAAA,WAqDE,+BAA6BG,KAA7B,EAAoC;AAClC,UAAIA,KAAK,IAAIA,KAAK,CAACC,MAAnB,EAA2B;AACzB,YAAMC,SAAS,GAAGF,KAAK,CAAC,CAAD,CAAL,CAASG,WAAT,EAAlB;AACA,yBAAUD,SAAV,SAAsBF,KAAK,CAACI,MAAN,CAAa,CAAb,EAAgBJ,KAAK,CAACC,MAAtB,CAAtB;AACD;;AACD,aAAOD,KAAP;AACD;AAED;AACF;AACA;AACA;AACA;AACA;;AAlEA;AAAA;AAAA,WAmEE,kBAAgBK,IAAhB,EAAsB;AACpB,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC9B,YAAMC,OAAO,GAAG,IAAIC,cAAJ,EAAhB;AACAD,eAAO,CAACE,gBAAR,CAAyB,kBAAzB;AACAF,eAAO,CAACG,IAAR,CAAa,KAAb,EAAoBN,IAApB,EAA0B,IAA1B;;AACAG,eAAO,CAACI,kBAAR,GAA6B,YAAM;AACjCC,iBAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BN,OAAO,CAACO,UAApC,EAAgDP,OAAO,CAACQ,MAAxD;;AACA,cAAIR,OAAO,CAACO,UAAR,KAAuB,CAAvB,IAA4BP,OAAO,CAACQ,MAAR,KAAmB,GAAnD,EAAwD;AACtDT,mBAAO,CAACU,IAAI,CAACC,KAAL,CAAWV,OAAO,CAACW,QAAnB,CAAD,CAAP;AACD;AACF,SALD;;AAMAX,eAAO,CAACY,IAAR,CAAa,IAAb;AACD,OAXM,CAAP;AAYD;AAED;AACF;AACA;AACA;AACA;;AAtFA;AAAA;AAAA,WAuFE,oBAAkB/D,GAAlB,EAAuB;AACrB,UAAIA,GAAG,IAAI,OAAOA,GAAG,CAACgE,OAAX,KAAuB,UAAlC,EAA8C;AAC5C;AACA,YAAIhE,GAAG,CAACiE,UAAR,EAAoB;AAClBjE,aAAG,CAACiE,UAAJ,CAAelC,gBAAf;AACD;;AACDpC,gBAAQ,CAACuE,iBAAT,CAA2BlE,GAA3B;AACA,YAAMmE,SAAS,GAAGnE,GAAG,CAACgE,OAAJ,CAAYhE,GAAZ,CAAlB;AACAA,WAAG,CAACe,SAAJ,GAAgBoD,SAAhB;;AACA,YAAInE,GAAG,CAACiC,KAAJ,IAAa,OAAOjC,GAAG,CAACoE,gBAAX,KAAgC,UAAjD,EAA6D;AAC3DpE,aAAG,CAACoE,gBAAJ;AACD;AACF;AACF;AAED;AACF;AACA;AACA;AACA;;AA1GA;AAAA;AAAA,WA2GE,4BAA0BpE,GAA1B,EAA+B;AAC7B,UAAIA,GAAJ,EAAS;AACP,YAAMqE,YAAY,GAAGrE,GAAG,CAACE,WAAJ,CAAgBoE,aAArC;;AACA,YAAID,YAAJ,EAAkB;AAChB1E,kBAAQ,CAAC4E,cAAT,CAAwBvE,GAAxB,EAA6BqE,YAAY,CAACG,MAAb,IAAuB,EAApD;;AACA,cAAIH,YAAY,CAACI,OAAjB,EAA0B;AACxB9E,oBAAQ,CAAC+E,eAAT,CAAyB1E,GAAzB,EAA8BqE,YAAY,CAACI,OAA3C;AACD;AACF;AACF;AACF;AAED;AACF;AACA;AACA;AACA;;AA3HA;AAAA;AAAA,WA4HE,wBAAsBzE,GAAtB,EAA2B2E,YAA3B,EAAyC;AACvC,UAAMC,yBAAyB;AAC7BvC,oBAAY,EAAE;AADe,SAE1BsC,YAF0B,CAA/B;;AAIAE,YAAM,CAACC,IAAP,CAAYF,yBAAZ,EAAuCG,OAAvC,CAA+C,UAAAC,aAAa,EAAI;AAC9D,YAAMC,UAAU,GAAGtF,QAAQ,CAACuF,eAAT,CAAyBF,aAAzB,CAAnB;AACA,YAAMG,UAAU,GAAGxF,QAAQ,CAACyF,eAAT,CAAyBJ,aAAzB,CAAnB;;AACAhF,WAAG,CAACiF,UAAD,CAAH,GAAkB,UAACtC,KAAD,EAAW;AAC3B3C,aAAG,CAACgF,aAAD,CAAH,GAAqBrC,KAArB;AACA3C,aAAG,CAAC+B,gBAAJ;AACD,SAHD;;AAIA/B,WAAG,CAACmF,UAAD,CAAH,GAAkB,YAAM;AACtB,iBAAOnF,GAAG,CAACgF,aAAD,CAAV;AACD,SAFD;;AAGA,YACEJ,yBAAyB,CAACI,aAAD,CAAzB,KAA6C,IAA7C,IACA,OAAOJ,yBAAyB,CAACI,aAAD,CAAhC,KAAoD,WAFtD,EAGE;AACA;AACAhF,aAAG,CAACgF,aAAD,CAAH,GAAqBJ,yBAAyB,CAACI,aAAD,CAA9C;AACD;AACF,OAjBD;AAkBD;AAED;AACF;AACA;AACA;AACA;;AAzJA;AAAA;AAAA,WA0JE,yBAAuBhF,GAAvB,EAA4BqF,aAA5B,EAA2C;AACzCR,YAAM,CAACC,IAAP,CAAYO,aAAZ,EAA2BN,OAA3B,CAAmC,UAAAC,aAAa,EAAI;AAClD,YAAMM,iBAAiB,GAAG,IAAIC,WAAJ,YAAoBP,aAApB,QAAsC;AAAEQ,gBAAM,EAAExF;AAAV,SAAtC,CAA1B;AACA,YAAMyF,YAAY,oBAAaT,aAAb,CAAlB;AACAhF,WAAG,CAACyF,YAAD,CAAH,GAAoBH,iBAApB,CAHkD,CAIlD;;AACAtF,WAAG,CAACL,QAAQ,CAAC+C,yBAAT,CAAmC,UAAnC,EAA+CsC,aAA/C,CAAD,CAAH,GAAqE,YAAa;AAChFhF,aAAG,CAAC0F,aAAJ,CAAkB1F,GAAG,CAACyF,YAAD,CAArB;AACD,SAFD,CALkD,CAQlD;;;AACAzF,WAAG,CAACL,QAAQ,CAAC+C,yBAAT,CAAmC,KAAnC,YAA6CsC,aAA7C,cAAD,CAAH,GAA6E,UAACW,QAAD,EAAc;AACzF3F,aAAG,CAAC4F,gBAAJ,YAAyBZ,aAAzB,QAA2CW,QAA3C,EAAqD,KAArD;AACD,SAFD,CATkD,CAYlD;;;AACA3F,WAAG,CAACL,QAAQ,CAAC+C,yBAAT,CAAmC,QAAnC,YAAgDsC,aAAhD,cAAD,CAAH,GAAgF,YAAM;AACpFhF,aAAG,CAAC6F,mBAAJ,YAA4Bb,aAA5B,QAA8CW,QAA9C;AACD,SAFD;AAGD,OAhBD;AAiBD;AAED;AACF;AACA;AACA;AACA;;AAlLA;AAAA;AAAA,WAmLE,mCAAiC3F,GAAjC,EAAsC;AACpC,UAAM8F,WAAW,4CAAqC9F,GAAG,CAACoB,KAAzC,qBAAyDpB,GAAG,CAACM,MAA7D,OAAjB;AACAN,SAAG,CAAC+F,QAAJ,GAAeD,WAAf;AACD;AAED;AACF;AACA;AACA;AACA;;AA5LA;AAAA;AAAA,WA6LE,2BAAyB9F,GAAzB,EAA8B;AAC5B,UAAIA,GAAG,CAACgG,UAAR,EAAoB;AAClB,YAAM3B,YAAY,GAAGrE,GAAG,CAACE,WAAJ,CAAgBoE,aAArC;;AACA,YAAID,YAAJ,EAAkB;AAChB,eAAK,IAAI4B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGjG,GAAG,CAACgG,UAAJ,CAAepD,MAAnC,EAA2CqD,CAAC,EAA5C,EAAgD;AAC9C,gBAAMC,YAAY,GAAGlG,GAAG,CAACgG,UAAJ,CAAeG,IAAf,CAAoBF,CAApB,CAArB;AAD8C,gBAEhCG,aAFgC,GAESF,YAFT,CAEtC3F,IAFsC;AAAA,gBAEV8F,cAFU,GAESH,YAFT,CAEjBvD,KAFiB;AAG9C,gBAAM2D,WAAW,GAAG3G,QAAQ,CAAC4G,oBAAT,CAA8BH,aAA9B,CAApB;;AACA,gBAAIzG,QAAQ,CAAC6G,uBAAT,CAAiCJ,aAAjC,KAAmD/B,YAAY,CAACG,MAAhE,IAA0EH,YAAY,CAACG,MAAb,CAAoB8B,WAApB,CAA9E,EAAgH;AAC9G9C,qBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB6C,WAAvB,EAD8G,CAE9G;;AACA,kBAAMrB,UAAU,GAAGtF,QAAQ,CAACuF,eAAT,CAAyBoB,WAAzB,CAAnB;;AACA,kBAAI,OAAOtG,GAAG,CAACiF,UAAD,CAAV,KAA2B,UAA/B,EAA2C;AACzCjF,mBAAG,CAACsG,WAAD,CAAH,GAAmBJ,YAAY,CAACvD,KAAhC;AACD;AACF,aAPD,MAOO,IAAIhD,QAAQ,CAAC8G,gBAAT,CAA0BL,aAA1B,KAA4C/B,YAAY,CAACI,OAAzD,IAAoEJ,YAAY,CAACI,OAAb,CAAqB6B,WAArB,CAAxE,EAA2G;AAAA;AAChH;AACA,oBAAMI,YAAY,GAAG/G,QAAQ,CAACgH,qCAAT,CAA+CN,cAA/C,CAArB;AACA,oBAAMO,SAAS,GAAG5G,GAAG,CAAC6G,YAAJ,EAAlB;AACA7G,mBAAG,CAAC4F,gBAAJ,CAAqBQ,aAArB,EAAoC,UAACU,EAAD;AAAA,yBAAQF,SAAS,CAACF,YAAD,CAAT,CAAwBI,EAAxB,CAAR;AAAA,iBAApC;AAJgH;AAKjH,aALM,MAKA;AACL;AACA,kBAAM7B,WAAU,GAAGtF,QAAQ,CAACuF,eAAT,CAAyBkB,aAAzB,CAAnB;;AACA5C,qBAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCzD,GAAG,CAACiF,WAAD,CAAnC;;AACA,kBAAI,OAAOjF,GAAG,CAACiF,WAAD,CAAV,KAA2B,UAA/B,EAA2C;AACzCjF,mBAAG,CAACoG,aAAD,CAAH,GAAqBF,YAAY,CAACvD,KAAlC;AACAa,uBAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BzD,GAAG,CAACoG,aAAD,CAAhC;AACD;AACF;AACF;AACF;AACF;AAEF;AAED;AACF;AACA;AACA;AACA;;AApOA;AAAA;AAAA,WAqOE,iCAA+BW,YAA/B,EAA6C;AAC3C,UAAIA,YAAY,IAAIA,YAAY,CAACnE,MAAjC,EAAyC;AACvC,eACEmE,YAAY,CAACnE,MAAb,GAAsB,CAAtB,IACAmE,YAAY,CAAC,CAAD,CAAZ,KAAoB,GADpB,IAEAA,YAAY,CAACA,YAAY,CAACnE,MAAb,GAAsB,CAAvB,CAAZ,KAA0C,GAH5C;AAKD;AACF;AA7OH;AAAA;AAAA,WA+OE,+CAA6CoE,kBAA7C,EAAiE,CAEhE;AAED;AACF;AACA;AACA;AACA;;AAvPA;AAAA;AAAA,WAwPE,0BAAwBD,YAAxB,EAAsC;AACpC,UAAIA,YAAY,IAAIA,YAAY,CAACnE,MAAjC,EAAyC;AACvC,eACEmE,YAAY,CAACnE,MAAb,GAAsB,CAAtB,IACAmE,YAAY,CAAC,CAAD,CAAZ,KAAoB,GADpB,IAEAA,YAAY,CAACA,YAAY,CAACnE,MAAb,GAAsB,CAAvB,CAAZ,KAA0C,GAH5C;AAKD;AACF;AAED;AACF;AACA;AACA;AACA;;AAtQA;AAAA;AAAA,WAuQE,8BAA4BmE,YAA5B,EAA0C;AACxC,UAAIE,YAAY,GAAGF,YAAnB;;AACA,UAAIA,YAAY,IAAIA,YAAY,CAACnE,MAAb,GAAsB,CAA1C,EAA6C;AAC3CqE,oBAAY,GAAGA,YAAY,CAACC,KAAb,CAAmB,CAAnB,EAAuBH,YAAY,CAACnE,MAAb,GAAsB,CAA7C,CAAf;AACD;;AACD,aAAOqE,YAAP;AACD;AAED;AACF;AACA;AACA;AACA;;AAnRA;AAAA;AAAA,WAoRE,6BAA2BjH,GAA3B,EAAgC;AAC9B,UAAMC,SAAS,GAAGD,GAAG,CAACE,WAAJ,CAAgBC,UAAlC;AACA,UAAMgH,QAAQ,GAAG3H,4BAAA,CAA6BS,SAAS,CAACM,IAAvC,CAAjB;;AACA,UAAI,CAAC4G,QAAL,EAAe;AACb3H,oCAAA,CACES,SAAS,CAACM,IADZ,EAEE,IAAIO,GAAJ,EAFF;AAID;;AACDtB,kCAAA,CAA6BS,SAAS,CAACM,IAAvC,EAA6C6G,GAA7C,CAAiDpH,GAAG,CAACM,MAArD,EAA6DN,GAA7D;AACD;AA9RH;;AAAA;AAAA;;yBAAaL,kB,mBAOY,UAACgD,KAAD,EAAW;AAChC,MAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC7B,WAAO,CAACA,KAAK,CAACC,MAAd;AACD;;AACD,MAAI,QAAOD,KAAP,MAAiB,QAArB,EAA+B;AAC7B,WAAO,CAACkC,MAAM,CAACC,IAAP,CAAYnC,KAAK,IAAI,EAArB,EAAyBC,MAAjC;AACD;;AACD,SAAO,IAAP;AACD,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrBH;AACA;AACA;;AAEA,IAAIyE,QAAQ,GAAG;AAAA,SAAM,IAAN;AAAA,CAAf;AACA;AACA;AACA;AACA;;;AACA,IAAI,OAAOC,WAAP,KAAuB,UAA3B,EAAuC;AACrCD,UAAQ;AAAA;;AAAA;;AAEN,mBAAc;AAAA;;AAAA;AAEb;AAED;AACJ;AACA;;;AARU;AAAA;AAAA,aASN,6BAAoB;AAAA;;AAClB,YAAMpH,SAAS,GAAG,KAAKC,WAAL,CAAiBC,UAAnC;AACA,aAAKG,MAAL,GAAcd,wBAAA,CAAyBS,SAAzB,CAAd;AACA,aAAKsH,EAAL,GAAU,KAAKjH,MAAf;AACA,aAAKc,KAAL,GAAanB,SAAS,CAACM,IAAvB;AACAZ,oDAAA,CAAmC,IAAnC;AACAA,6CAAA,CAA4B,IAA5B;AACAA,qCAAA,CAAoB,IAApB;;AACA,aAAKoC,gBAAL,GAAwB;AAAA,iBAAMpC,6BAAA,CAAoB,KAApB,CAAN;AAAA,SAAxB;;AACA,YAAI,OAAO,KAAKqC,cAAZ,KAA+B,UAAnC,EAA+C,KAAKA,cAAL;AAC/CrC,8CAAA,CAA6B,IAA7B;AACA,aAAKsC,KAAL,GAAa,IAAb;AACD;AAED;AACJ;AACA;;AAzBU;AAAA;AAAA,aA0BN,wBAAe;AACb,eAAO5C,yCAAA,CAA0C,KAAKgD,YAA/C,CAAP;AACD;AAED;AACJ;AACA;;AAhCU;AAAA;AAAA,aAiCN,yBAAgB;AACd,aAAKT,UAAL,CAAgB4F,MAAhB;;AACA,YAAI,OAAO,KAAKC,cAAZ,KAA+B,UAAnC,EAA+C,KAAKA,cAAL;AAChD;AAED;AACJ;AACA;AACA;AACA;;AA1CU;AAAA;AAAA,aA2CN,2BAAkBF,EAAlB,EAAsB;AACpB,YAAMG,OAAO,GAAGrI,yCAAA,WAA6C,KAAKiB,MAAlD,cAA4DiH,EAA5D,EAAhB;AACA,eAAOG,OAAP;AACD;AAED;AACJ;AACA;;AAlDU;AAAA;AAAA,aAmDN,gCAAuB;AACrB,YAAI,OAAO,KAAKD,cAAZ,KAA+B,UAAnC,EAA+C,KAAKA,cAAL;AAChD;AArDK;;AAAA;AAAA,mCAAqBH,WAArB,EAAR;AAuDD;;AAEM,IAAMK,GAAG,GAAGN,QAAZ,C;;;;;;ACnEP;AAEA;AACA;AACA;AACA;;AACO,IAAM5F,oBAAb;AAAA;AAAA;;0BAAaA,oB,oBAOa,UAACuB,IAAD,EAAU;AAChC,MAAM4E,IAAI,GAAGvI,wCAAA,CAAyC,MAAzC,CAAb;AACAuI,MAAI,CAACC,IAAL,GAAY,UAAZ;AACAD,MAAI,CAACE,GAAL,GAAW,YAAX;AACAF,MAAI,CAACG,IAAL,GAAY/E,IAAZ;AACA3D,6CAAA,CAA4CuI,IAA5C;AACD,C;;;;;;ACnBH;AACA;AAEA;AACA;AACA;AACA;;AACO,IAAMI,UAAb,GACE,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA,8CAMT,UAACC,QAAD,EAAc;AACtB,QAAIA,QAAQ,CAAC/H,UAAb,EAAyB;AAAA,UACHF,SADG,GACWiI,QADX,CACf/H,UADe;;AAEvB,UAAIF,SAAJ,EAAe;AACb,YAAIA,SAAS,CAACuB,cAAd,EAA8BC,mCAAA,CAAyBxB,SAAS,CAACuB,cAAnC;AAC9BnC,sDAAA,CAA+CY,SAAS,CAACM,IAAzD,EAA+D2H,QAA/D;AACA1E,eAAO,CAACC,GAAR,mCAAsCxD,SAAS,CAACM,IAAhD;AACD;AACF,KAPD,MAOO;AACL,YAAM,IAAIE,KAAJ,qDAAsDyH,QAAtD,QAAN;AACD;AACF,GAjBkB;;AACjB,MAAID,KAAK,IAAIA,KAAK,CAACrF,MAAnB,EAA2B;AACzBqF,SAAK,CAAClD,OAAN,CAAc,KAAKoD,OAAnB;AACD;AACF,CALH,C;;ACPO,IAAMC,cAAc,GAAG;AAC5BC,OAAK,EAAE,SADqB;AAE5BC,QAAM,EAAE,SAFoB;AAG5BC,KAAG,EAAE,SAHuB;AAI5BC,YAAU,EAAE,SAJgB;AAK5BC,OAAK,EAAE,SALqB;AAM5BC,SAAO,EAAE,SANmB;AAO5BC,QAAM,EAAE,SAPoB;AAS5BC,SAAO,EAAE,UATmB;AAU5BC,OAAK,EAAE,UAVqB;AAW5BC,SAAO,EAAE,UAXmB;AAY5BC,UAAQ,EAAE,UAZkB;AAa5BC,QAAM,EAAE,UAboB;AAc5BC,WAAS,EAAE,UAdiB;AAe5BC,QAAM,EAAE,UAfoB;AAgB5BC,SAAO,EAAE,UAhBmB;AAkB5BC,SAAO,EAAE,UAlBmB;AAmB5BC,OAAK,EAAE,UAnBqB;AAoB5BC,SAAO,EAAE,UApBmB;AAqB5BC,UAAQ,EAAE,UArBkB;AAsB5BC,QAAM,EAAE,UAtBoB;AAuB5BC,WAAS,EAAE,UAvBiB;AAwB5BC,QAAM,EAAE,UAxBoB;AAyB5BC,SAAO,EAAE;AAzBmB,CAAvB,C;;ACAP;AAEO,IAAMC,YAAY,GAAG;AAC1BC,UAAQ,EAAE,kBAACC,GAAD;AAAA,WAAStG,OAAO,CAACC,GAAR,WAAe2E,sBAAf,SAAwC0B,GAAxC,SAA8C1B,oBAA9C,EAAT;AAAA,GADgB;AAE1B2B,WAAS,EAAE,mBAACD,GAAD;AAAA,WAAStG,OAAO,CAACC,GAAR,WAAe2E,uBAAf,SAAyC0B,GAAzC,SAA+C1B,oBAA/C,EAAT;AAAA,GAFe;AAG1B4B,SAAO,EAAE,iBAACF,GAAD;AAAA,WAAStG,OAAO,CAACC,GAAR,WAAe2E,qBAAf,SAAuC0B,GAAvC,SAA6C1B,oBAA7C,EAAT;AAAA,GAHiB;AAI1B6B,WAAS,EAAE;AAAA,WAAQ,YAAM;AACvB,UAAMC,CAAC,GAAG,CAAC,GAAD,EAAM,GAAN,EAAW,IAAX,EAAiB,GAAjB,CAAV;AACA,UAAIC,CAAC,GAAG,CAAR;AACA,UAAMC,QAAQ,GAAGC,WAAW,CAAC,YAAM;AACjCC,eAAO,CAACC,MAAR,CAAeC,KAAf,CAAqB,OAAOpC,qBAAP,GAA+B8B,CAAC,CAACC,CAAC,EAAF,CAAhC,aAA2C/B,oBAA3C,MAArB;AACA+B,SAAC,IAAKD,CAAC,CAACtH,MAAF,GAAW,CAAjB;AACD,OAH2B,EAGzB,GAHyB,CAA5B;;AAIA,UAAM6H,SAAS,GAAG,SAAZA,SAAY;AAAA,eAAMH,OAAO,CAACC,MAAR,CAAeC,KAAf,CAAqB,IAArB,CAAN;AAAA,OAAlB;;AACA,aAAO,YAAM;AACXE,qBAAa,CAACN,QAAD,CAAb;AACAK,iBAAS;AACV,OAHD;AAID,KAZiB,EAAP;AAAA;AAJe,CAArB,C;;ACFP;;AAEA,IAAIE,cAAc,GAAG,wBAACC,GAAD,EAAS,CAAE,CAAhC;;AAEA,IAAI,OAAOC,OAAP,KAAmB,UAAvB,EAAmC;AACjC,MAAMC,OAAO,GAAGD,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAME,OAAO,GAAGF,OAAO,CAAC,iBAAD,CAAvB;;AACA,MAAM7H,IAAI,GAAG6H,OAAO,CAAC,MAAD,CAApB;;AACA,MAAMG,IAAI,GAAGV,OAAO,CAACW,GAAR,CAAYC,IAAZ,IAAoB,IAAjC;;AAEAP,gBAAc,GAAG,wBAACC,GAAD,EAAS;AACxB,QAAMO,GAAG,GAAGL,OAAO,EAAnB;AACA,QAAMM,MAAM,GAAGR,GAAG,GAAG,SAArB;AACA,QAAMS,OAAO,GAAGT,GAAG,GAAG,OAAtB;AACAhB,wBAAA,CAAqB,sCAArB;AACA,QAAM0B,WAAW,GAAG1B,sBAAA,EAApB;AACAuB,OAAG,CAACI,GAAJ,CAAQR,OAAO,CAACK,MAAM,GAAG,cAAV,CAAf;AACAD,OAAG,CAACI,GAAJ,CAAQT,OAAO,UAAP,CAAeO,OAAf,CAAR,EAPwB,CAOS;;AACjCF,OAAG,CAACpL,GAAJ,CAAQ,GAAR,EAAa,UAACyL,GAAD,EAAMC,GAAN,EAAc;AACzBA,SAAG,CAACC,QAAJ,CAAa1I,IAAI,CAACE,OAAL,CAAamI,OAAb,EAAsB,YAAtB,CAAb;AACD,KAFD;AAGAF,OAAG,CAACQ,MAAJ,CAAWX,IAAX,EAAiB,YAAM;AACrBM,iBAAW;AACX1B,2BAAA,iDAA+DoB,IAA/D;AACD,KAHD;AAID,GAfD;AAgBD;;;;AC1BD;AACA;AACA;AACA","file":"hyperbox-js.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"hyperbox-js\"] = factory();\n\telse\n\t\troot[\"hyperbox-js\"] = factory();\n})(this, function() {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const document = () => null;\nconst window = () => null;\n\nexport class HyperBoxInnerCore {\n  static Document = (document || (() => null));\n\n  static Window = (window || (() => null));\n\n  static LoadDOM = (window, document) => {\n    HyperBoxInnerCore.Window = window;\n    HyperBoxInnerCore.Document = document;\n  }\n}\n","import { HyperBoxInnerCore } from './hyperbox-inner-core';\n\n/**\n * @author Alessandro Alberga\n * @description Box CORE.\n */\nexport class HyperBoxCore {\n\n  static LoadedBoxes = new Map();\n\n  static BoxRegistry = new Map();\n\n  /**\n   * Set the box registry. Must be called before init.\n   *\n   * @param { Map } registry registry map.\n   */\n  static SetBoxRegistry(registry) {\n    if (registry) {\n      this.BoxRegistry = registry;\n    } else {\n      throw new Error('BoxJs: Fatal, no box registry specified.');\n    }\n  }\n\n  /**\n   * Kick off the boxes...\n   */\n  static Init = () => {\n    // Add the root box.\n    HyperBoxInnerCore.Document.getElementById('root').innerHTML = '<main-box></main-box>'\n  }\n  \n  /**\n   * Creates our boxes.\n   *\n   * @param { any } boxName name of box.\n   */\n  BoxInstanceFactory = (boxClassName) => {\n    const boxCapitalisedName = BoxUtils.CapitalizeFirstLetter(boxClassName);\n    const instance = new (this.BoxRegistry.get(boxCapitalisedName))()\n    return instance;\n  }\n  \n  /**\n   * Create the box container element.\n   *\n   * @param { any } box box.\n   */\n  CreateBoxContainer = (box) => {\n    const boxConfig = box.constructor._BoxConfig;\n    const boxContainer = HyperBoxInnerCore.Document.createElement('div');\n    boxContainer.setAttribute('id', box._boxId);\n    boxContainer.setAttribute('class', boxConfig.name);\n    return boxContainer;\n  }\n\n  /**\n   * Take box config and return the new box id.\n   *\n   * @param { any } boxConfig box config.\n   */\n  static GetNewBoxId(boxConfig) {\n    let boxCount = 0;\n    if (HyperBoxCore.LoadedBoxes.get(boxConfig.name)) {\n      boxCount = HyperBoxCore.LoadedBoxes.get(boxConfig.name).size;\n    }\n    const boxId = `${boxConfig.name}-${boxCount}`;\n    return boxId;\n  }\n\n  /**\n   * Add a box to the DOM.\n   *\n   * @param { any } box the box to add to the DOM.\n   * @param { String } parentBoxId parents box id.\n   */\n  static AddBoxToDOM = (box, parentBoxId) => {\n    const boxParent = HyperBoxInnerCore.Document.getElementById(parentBoxId);\n    const boxConfig = box.constructor._BoxConfig;\n    const newBoxId = this.GetNewBoxId(boxConfig);\n    box._boxId = newBoxId;\n    box._name = boxConfig.name;\n    // Add box to loaded boxes.\n    BoxUtils.AddBoxToLoadedBoxes(box);\n    BoxUtils.BuildBoxInterfaces(box);\n    BoxUtils.BuildBoxStandardVariables(box);\n    // Setup styles.\n    if (boxConfig.styleSheetPath) {\n      BoxLoader.LoadStylesheet(boxConfig.styleSheetPath);\n    }\n    // Setup the box container.\n    const boxContainer = this.CreateBoxContainer(box)\n    // Set retaining values.\n    box._container = boxContainer;\n    // Setup the initial markup and add box to parent!\n    BoxUtils.DisplayBox(box);\n    if (parentBoxId) {\n      // Only add to DOM if a parentBoxId provided...\n      if (boxParent) {\n        boxParent.appendChild(boxContainer);\n      } else {\n        throw new Error(`BoxJS: Cannot add box to null parent. \"${parentBoxId}\"`);\n      }\n    }\n    // Allow the box to detect for changes.\n    box.detectBoxChanges = () => BoxUtils.DisplayBox(box)\n    // Run the displayed hook if present.\n    if (typeof box.boxOnDisplayed === 'function') {\n      box.boxOnDisplayed();\n    }\n    box._init = true;\n    return box;\n  }\n  \n  /**\n   * Add a box.\n   *\n   * @param {*} name \n   * @param {*} parentBoxId \n   */\n  static MakeBox = (className, parentBoxId) => {\n    const box = this.BoxInstanceFactory(className);\n    box._className = className;\n    box._parentBoxId = parentBoxId;\n    return this.AddBoxToDOM(box, parentBoxId);  \n  }\n}\n","import { HyperBoxCore } from './hyperbox-core';\n\n/**\n * @author Alessandro Alberga\n * @description Box utils.\n */\nexport class BoxUtils {\n\n  /**\n   * Check if a value value is null or empty.\n   *\n   * @param { String } str the string to preform null or empty check on. \n   */\n  static IsNullOrEmpty = (value) => {\n    if (typeof value === 'string') {\n      return !value.length\n    }\n    if (typeof value === 'object') {\n      return !Object.keys(value || {}).length\n    }\n    return true;\n  }\n\n  /**\n   * Build a function name that uses a certain prefix.\n   *\n   * @param { String } prefix prefix string e.g. 'get'\n   * @param { String } variableName variable name e.g. 'name'\n   */\n  static BuildPrefixedFunctionName(prefix, variableName) {\n    let returnName = BoxUtils.CapitalizeFirstLetter(variableName);\n    returnName = `${prefix}${returnName}`;\n    return returnName;\n  }\n\n  /**\n   * Build the setter name for a variable name.\n   *\n   * @param { String } variableName variable name.\n   */\n  static BuildSetterName(variableName) {\n    return BoxUtils.BuildPrefixedFunctionName('set', variableName)\n  }\n\n  /**\n   * Build the geter name for a variable name.\n   *\n   * @param { String } variableName variable name.\n   */\n  static BuildGetterName(variableName) {\n    return BoxUtils.BuildPrefixedFunctionName('get', variableName)\n  }\n\n  /**\n   * Capitalise the first letter in a string.\n   *\n   * @param { String } value string value.\n   * @returns { String } Capitalised string.\n   */\n  static CapitalizeFirstLetter(value) {\n    if (value && value.length) {\n      const firstChar = value[0].toUpperCase();\n      return `${firstChar}${value.substr(1, value.length)}`\n    }\n    return value;\n  }\n\n  /**\n   * Load JSON.\n   *\n   * @param { String } path json path.\n   * @returns { Promise<any> } Promise of JSON object.\n   */\n  static LoadJSON(path) {\n    return new Promise((resolve) => {\n      const request = new XMLHttpRequest();\n      request.overrideMimeType('application/json');\n      request.open('GET', path, true);\n      request.onreadystatechange = () => {\n        console.log('request args', request.readyState, request.status)\n        if (request.readyState === 4 && request.status === 200) {\n          resolve(JSON.parse(request.response))\n        }\n      };\n      request.send(null);\n    });\n  }\n\n  /**\n   * After a change is needed, re-use the box display function to re-set inner html.\n   *\n   * @param {*} box \n   */\n  static DisplayBox(box) {\n    if (box && typeof box.display === 'function') {\n      // Allows change detection to happen bottom up if a prent was set.\n      if (box._parentBox) {\n        box._parentBox.detectBoxChanges();\n      }\n      BoxUtils.LoadDOMAttributes(box);\n      const newMarkup = box.display(box);\n      box.innerHTML = newMarkup;\n      if (box._init && typeof box.boxOnRedisplayed === 'function') {\n        box.boxOnRedisplayed()\n      }\n    }\n  }\n\n  /**\n   * Build box interfaces (setters and getters) if _BoxInterface present.\n   *\n   * @param { any } box box. \n   */\n  static BuildBoxInterfaces(box) {\n    if (box) {\n      const boxInterface = box.constructor._BoxInterface;\n      if (boxInterface) {\n        BoxUtils.BuildBoxInputs(box, boxInterface.Inputs || {});\n        if (boxInterface.Outputs) {\n          BoxUtils.BuildBoxOutputs(box, boxInterface.Outputs);\n        }\n      }\n    }\n  }\n\n  /**\n   * Build box inputs for a box.\n   *\n   * @param { any } inputsObject inputs object from _BoxInterface\n   */\n  static BuildBoxInputs(box, inputsObject) {\n    const inputsWithStockProperties = {\n      _parentBoxId: null,\n      ...inputsObject,\n    }\n    Object.keys(inputsWithStockProperties).forEach(interfaceProp => {\n      const setterName = BoxUtils.BuildSetterName(interfaceProp);\n      const getterName = BoxUtils.BuildGetterName(interfaceProp);\n      box[setterName] = (value) => {\n        box[interfaceProp] = value;\n        box.detectBoxChanges();\n      }\n      box[getterName] = () => {\n        return box[interfaceProp];\n      }\n      if (\n        inputsWithStockProperties[interfaceProp] !== null && \n        typeof inputsWithStockProperties[interfaceProp] !== 'undefined'\n      ) {\n        // If there is a value, set it (apply defaults...)\n        box[interfaceProp] = inputsWithStockProperties[interfaceProp];\n      }\n    });\n  }\n\n  /**\n   * Build output events for a box.\n   *\n   * @param { any } inputsObject \n   */\n  static BuildBoxOutputs(box, outputsObject) {\n    Object.keys(outputsObject).forEach(interfaceProp => {\n      const newBoxOutputEvent = new CustomEvent(`(${interfaceProp})`, { detail: box });\n      const eventBoxName = `_event_${interfaceProp}`;\n      box[eventBoxName] = newBoxOutputEvent;\n      // Add the dispatch function.\n      box[BoxUtils.BuildPrefixedFunctionName('dispatch', interfaceProp)] = (...args) => {\n        box.dispatchEvent(box[eventBoxName])\n      }\n      // Add the listen function.\n      box[BoxUtils.BuildPrefixedFunctionName('add', `${interfaceProp}Listener`)] = (callback) => {\n        box.addEventListener(`(${interfaceProp})`, callback, false);\n      }\n      // Add the remove listener function.\n      box[BoxUtils.BuildPrefixedFunctionName('remove', `${interfaceProp}Listener`)] = () => {\n        box.removeEventListener(`(${interfaceProp})`, callback);\n      }\n    });\n  }\n\n  /**\n   * Build the standard variables that go on boxes.\n   *\n   * @param { any } box box. \n   */\n  static BuildBoxStandardVariables(box) {\n    const contextPath = `SharedBoxCore.loadedBoxes.get('${box._name}').get('${box._boxId}')`\n    box._context = contextPath;\n  }\n\n  /**\n   * Load attributes from the DOM if they have been specified in the _BoxInterface!\n   * \n   * @param { any } box box.\n   */\n  static LoadDOMAttributes(box) {\n    if (box.attributes) {\n      const boxInterface = box.constructor._BoxInterface;\n      if (boxInterface) {\n        for (let i = 0; i < box.attributes.length; i++) {\n          const boxAttribute = box.attributes.item(i);\n          const { name: attributeName, value: attributeValue } = boxAttribute;\n          const trimmedName = BoxUtils.TrimFirstAndLastChar(attributeName);\n          if (BoxUtils.IsVariableInputProperty(attributeName) && boxInterface.Inputs && boxInterface.Inputs[trimmedName]) {\n            console.log('aa name', trimmedName)\n            // NOTE: add extra logic here that somethow watches [] vars!\n            const setterName = BoxUtils.BuildSetterName(trimmedName);\n            if (typeof box[setterName] === 'function') {\n              box[trimmedName] = boxAttribute.value;\n            }\n          } else if (BoxUtils.IsOutputProperty(attributeName) && boxInterface.Outputs && boxInterface.Outputs[trimmedName]) {\n            // Add the listener.\n            const functionName = BoxUtils.GetFunctionNameFromFunctionCallString(attributeValue);\n            const parentBox = box.getParentBox();\n            box.addEventListener(attributeName, (ev) => parentBox[functionName](ev))\n          } else {\n            // Is normal stirng or number input property.\n            const setterName = BoxUtils.BuildSetterName(attributeName);\n            console.log('aa found setter!', box[setterName])\n            if (typeof box[setterName] === 'function') {\n              box[attributeName] = boxAttribute.value;\n              console.log('aa value set!', box[attributeName])\n            }\n          }\n        }\n      }\n    }\n\n  }\n\n  /**\n   * Check if a property name is an input.\n   *\n   * @param { String } propertyName property name.\n   */\n  static IsVariableInputProperty(propertyName) {\n    if (propertyName && propertyName.length) {\n      return (\n        propertyName.length > 2 &&\n        propertyName[0] === '[' &&\n        propertyName[propertyName.length - 1] === ']'\n      )\n    }\n  }\n\n  static GetFunctionNameFromFunctionCallString(functionCallString) {\n\n  }\n\n  /**\n   * Check if a property name is an output.\n   *\n   * @param { String } propertyName property name.\n   */\n  static IsOutputProperty(propertyName) {\n    if (propertyName && propertyName.length) {\n      return (\n        propertyName.length > 2 &&\n        propertyName[0] === '(' &&\n        propertyName[propertyName.length - 1] === ')'\n      )\n    }\n  }\n\n  /**\n   * Remove the first and last char of a string.\n   *\n   * @param { Stirng } propertyName property name.\n   */\n  static TrimFirstAndLastChar(propertyName) {\n    let returnString = propertyName;\n    if (propertyName && propertyName.length > 2) {\n      returnString = returnString.slice(1, (propertyName.length - 1))\n    }\n    return returnString;\n  }\n\n  /**\n   * Add box to the loaded boxes.\n   *\n   * @param { any } box box\n   */\n  static AddBoxToLoadedBoxes(box) {\n    const boxConfig = box.constructor._BoxConfig;\n    const boxStore = HyperBoxCore.LoadedBoxes.get(boxConfig.name);\n    if (!boxStore) {\n      HyperBoxCore.LoadedBoxes.set(\n        boxConfig.name, \n        new Map()\n      )\n    }\n    HyperBoxCore.LoadedBoxes.get(boxConfig.name).set(box._boxId, box);\n  }\n}\n","import { BoxUtils } from './box-utils';\nimport { HyperBoxCore } from './hyperbox-core';\nimport { HyperBoxInnerCore } from './hyperbox-inner-core';\n\nlet classImp = () => null;\n/**\n * @author Alessandro Alberga\n * @description Describes the base structure of a box.\n */\nif (typeof HTMLElement === 'function') {\n  classImp = class Box extends HTMLElement {\n\n    constructor() {\n      super();\n    }\n  \n    /**\n     * Initialise our special box!\n     */\n    connectedCallback() {\n      const boxConfig = this.constructor._BoxConfig;\n      this._boxId = HyperBoxCore.GetNewBoxId(boxConfig);\n      this.id = this._boxId;\n      this._name = boxConfig.name\n      BoxUtils.BuildBoxStandardVariables(this);\n      BoxUtils.BuildBoxInterfaces(this);\n      BoxUtils.DisplayBox(this)\n      this.detectBoxChanges = () => BoxUtils.DisplayBox(this)\n      if (typeof this.boxOnDisplayed === 'function') this.boxOnDisplayed();\n      BoxUtils.AddBoxToLoadedBoxes(this);\n      this._init = true;\n    }\n  \n    /**\n     * Get the parent box from the parentBoxId set.\n     */\n    getParentBox() {\n      return HyperBoxInnerCore.Document.getElementById(this._parentBoxId);\n    }\n  \n    /**\n     * Allows any box to terminate itself.\n     */\n    terminateSelf() {\n      this._container.remove();\n      if (typeof this.boxOnDestroyed === 'function') this.boxOnDestroyed();\n    }\n  \n    /**\n     * Get box element by id.\n     *\n     * @param { Number } id box id. \n     */\n    getBoxElementById(id) {\n      const element = HyperBoxInnerCore.Document.getElementById(`${this._boxId}-${id}`)\n      return element;\n    }\n  \n    /**\n     * Box disconnected callback.\n     */\n    disconnectedCallback() {\n      if (typeof this.boxOnDestroyed === 'function') this.boxOnDestroyed();\n    }\n  }\n}\n\nexport const Box = classImp;","import { HyperBoxInnerCore } from './hyperbox-inner-core';\n\n/**\n * @author Alessandro Alberga\n * @description Box loader class.\n */\nexport class BoxLoader {\n\n  /**\n   * Load stylesheet.\n   *\n   * @param { String } path sheet path.\n   */\n  static LoadStylesheet = (path) => {\n    const link = HyperBoxInnerCore.Document.createElement('link');\n    link.type = 'text/css';\n    link.rel = 'stylesheet';\n    link.href = path;\n    HyperBoxInnerCore.Document.head.appendChild(link);\n  }\n}\n","import { HyperBoxInnerCore } from '../hyperbox-inner-core';\nimport { BoxLoader } from '../box-loader';\n\n/**\n * @author Alessandro Alberga\n * @description Hyperbox BoxNode class.\n */\nexport class BoxCluster {\n  constructor(boxes) {\n    if (boxes && boxes.length) {\n      boxes.forEach(this.initBox);\n    }\n  }\n\n  initBox = (boxClass) => {\n    if (boxClass._BoxConfig) {\n      const { _BoxConfig: boxConfig } = boxClass;\n      if (boxConfig) {\n        if (boxConfig.styleSheetPath) BoxLoader.LoadStylesheet(boxConfig.styleSheetPath);\n        HyperBoxInnerCore.Window.customElements.define(boxConfig.name, boxClass)\n        console.log(`HyperBox-JS: Defined: \"${boxConfig.name}\"`)\n      }\n    } else {\n      throw new Error(`HyperBox-JS: _BoxConfig not present on: \"${boxClass}\"`)\n    }\n  }\n}","export const consoleColours = {\n  Reset: \"\\x1b[0m\",\n  Bright: \"\\x1b[1m\",\n  Dim: \"\\x1b[2m\",\n  Underscore: \"\\x1b[4m\",\n  Blink: \"\\x1b[5m\",\n  Reverse: \"\\x1b[7m\",\n  Hidden: \"\\x1b[8m\",\n\n  FgBlack: \"\\x1b[30m\",\n  FgRed: \"\\x1b[31m\",\n  FgGreen: \"\\x1b[32m\",\n  FgYellow: \"\\x1b[33m\",\n  FgBlue: \"\\x1b[34m\",\n  FgMagenta: \"\\x1b[35m\",\n  FgCyan: \"\\x1b[36m\",\n  FgWhite: \"\\x1b[37m\",\n\n  BgBlack: \"\\x1b[40m\",\n  BgRed: \"\\x1b[41m\",\n  BgGreen: \"\\x1b[42m\",\n  BgYellow: \"\\x1b[43m\",\n  BgBlue: \"\\x1b[44m\",\n  BgMagenta: \"\\x1b[45m\",\n  BgCyan: \"\\x1b[46m\",\n  BgWhite: \"\\x1b[47m\"\n}","import { consoleColours } from './console-colours';\n\nexport const LoggingUtils = {\n  logGreen: (str) => console.log(`${consoleColours.FgGreen}${str}${consoleColours.Reset}`),\n  logYellow: (str) => console.log(`${consoleColours.FgYellow}${str}${consoleColours.Reset}`),\n  logBlue: (str) => console.log(`${consoleColours.FgCyan}${str}${consoleColours.Reset}`),\n  logLoader: () => ((() => {\n    const p = ['/', '-', '\\\\', '|'];\n    let x = 0;\n    const interval = setInterval(() => {\n      process.stdout.write(\"\\r\" + consoleColours.FgBlue + p[x++] + `${consoleColours.Reset} `);\n      x &= (p.length - 1);\n    }, 250);\n    const clearLine = () => process.stdout.write(\"\\r\");\n    return () => {\n      clearInterval(interval);\n      clearLine();\n    }\n  })()\n  )\n}","import { LoggingUtils } from './logging/log-utils';\n\nlet startBoxServer = (dir) => {}\n\nif (typeof require === 'function') {\n  const express = require('express');\n  const favicon = require('express-favicon');\n  const path = require('path');\n  const port = process.env.PORT || 2021;\n  \n  startBoxServer = (dir) => {\n    const app = express();\n    const pubDir = dir + '/public'\n    const distDir = dir + '/dist'\n    LoggingUtils.logBlue('HyperBox: starting up application...')\n    const clearLoader = LoggingUtils.logLoader()\n    app.use(favicon(pubDir + '/favicon.ico'));\n    app.use(express.static(distDir));// send the user to index html page inspite of the url\n    app.get('*', (req, res) => {\n      res.sendFile(path.resolve(distDir, 'index.html'));\n    });\n    app.listen(port, () => {\n      clearLoader()\n      LoggingUtils.logGreen(`HyperBox: application running on port ${port} 🚀`);\n    });\n  }\n}\n\nexport { startBoxServer }\n\n","export * from './box';\nexport * from './hyperbox-inner-core';\nexport * from './hyperbox-core';\nexport * from './box-cluster/box-cluster';\nexport * from './start-box-server';\n"],"sourceRoot":""}